(function(){"use strict";var e={8453:function(e,s,a){var t=a(5130),r=a(6768);function l(e,s){const a=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(a)}var n=a(1241);const o={},i=(0,n.A)(o,[["render",l]]);var u=i,c=a(1387),d=a(4232),p=a.p+"img/etoo play.49e870e3.png";const h={class:"signup-page page"},m={class:"container"},g={key:0,class:"errorMsg"},f={class:"full-name"},v={class:"input-wrapper"},k=["type"];function w(e,s,a,l,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("div",m,[s[15]||(s[15]=(0,r.Lk)("h2",null,"El-Bayt Chat App",-1)),n.message?((0,r.uX)(),(0,r.CE)("div",g,(0,d.v_)(n.message),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:s[6]||(s[6]=(0,t.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"])),novalidate:""},[(0,r.Lk)("div",f,[(0,r.Lk)("div",null,[s[7]||(s[7]=(0,r.Lk)("label",null,"First Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"First name","onUpdate:modelValue":s[0]||(s[0]=e=>n.fname=e),required:""},null,512),[[t.Jo,n.fname]])]),(0,r.Lk)("div",null,[s[8]||(s[8]=(0,r.Lk)("label",null,"Last Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Last name","onUpdate:modelValue":s[1]||(s[1]=e=>n.lname=e),required:""},null,512),[[t.Jo,n.lname]])])]),s[9]||(s[9]=(0,r.Lk)("label",null,"Email Address",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"Enter your email","onUpdate:modelValue":s[2]||(s[2]=e=>n.email=e),required:""},null,512),[[t.Jo,n.email]]),s[10]||(s[10]=(0,r.Lk)("label",null,"Password",-1)),(0,r.Lk)("div",v,[(0,r.bo)((0,r.Lk)("input",{type:n.showPassword?"text":"password",placeholder:"Enter your password","onUpdate:modelValue":s[3]||(s[3]=e=>n.password=e),required:""},null,8,k),[[t.hp,n.password]]),(0,r.Lk)("span",{class:(0,d.C4)(["toggle-password",{show:n.showPassword}]),onClick:s[4]||(s[4]=(...e)=>o.togglePassword&&o.togglePassword(...e))},[(0,r.Lk)("i",{class:(0,d.C4)(n.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],2)]),s[11]||(s[11]=(0,r.Lk)("label",null,"Select Image",-1)),(0,r.Lk)("input",{type:"file",placeholder:"Choose File",onChange:s[5]||(s[5]=(...e)=>o.handleFileUpload&&o.handleFileUpload(...e))},null,32),s[12]||(s[12]=(0,r.Lk)("button",{type:"submit"},"Continue to Chat",-1))],32),(0,r.Lk)("p",null,[s[14]||(s[14]=(0,r.eW)("Already signed up? ")),(0,r.bF)(i,{to:{name:"login"}},{default:(0,r.k6)((()=>s[13]||(s[13]=[(0,r.eW)("Login now")]))),_:1})]),s[16]||(s[16]=(0,r.Lk)("img",{class:"logo",src:p,alt:"logo"},null,-1))])])}a(4114);var L={props:["question","page"],data(){return{showPassword:!1,email:"",password:"",message:"",fname:"",lname:"",file:""}},methods:{togglePassword(){this.showPassword=!this.showPassword},isValidEmail(e){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.test(e)},handleFileUpload(e){this.file=e.target.files[0]},handleSubmit(){if(!this.fname||!this.lname||!this.email||!this.password){const e=document.querySelectorAll("input:invalid");return e.length>0&&(e[0].focus(),e[0].reportValidity()),void(this.message="All input fields are required!")}if(this.isValidEmail(this.email))if(this.file){const e=new FileReader;e.onload=()=>{const s=JSON.parse(localStorage.getItem("users"))||[];s.push({id:Date.now(),username:this.fname+" "+this.lname,useremail:this.email,userpassword:this.password,userpic:e.result,isActive:!0}),localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("currentUser",JSON.stringify(s[s.length-1])),this.$router.push("./home")},e.readAsDataURL(this.file)}else this.message="Please upload an image file - jpeg, png, jpg";else this.message=this.email+" is not a valid email!"}}};const y=(0,n.A)(L,[["render",w]]);var C=y;const U={class:"login-page page"},b={class:"container"},E={key:0,class:"errorMsg"},S={class:"input-wrapper"},A=["type"];function P(e,s,a,l,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",b,[s[9]||(s[9]=(0,r.Lk)("h2",null,"El-Bayt Chat App",-1)),n.message?((0,r.uX)(),(0,r.CE)("div",E,(0,d.v_)(n.message),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:s[3]||(s[3]=(0,t.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"])),novalidate:""},[s[4]||(s[4]=(0,r.Lk)("label",null,"Email Address",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"Enter your email","onUpdate:modelValue":s[0]||(s[0]=e=>n.email=e),required:""},null,512),[[t.Jo,n.email]]),s[5]||(s[5]=(0,r.Lk)("label",null,"Password",-1)),(0,r.Lk)("div",S,[(0,r.bo)((0,r.Lk)("input",{type:n.showPassword?"text":"password",placeholder:"Enter your password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),required:""},null,8,A),[[t.hp,n.password]]),(0,r.Lk)("span",{class:(0,d.C4)(["toggle-password",{show:n.showPassword}]),onClick:s[2]||(s[2]=(...e)=>o.togglePassword&&o.togglePassword(...e))},[(0,r.Lk)("i",{class:(0,d.C4)(n.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],2)]),s[6]||(s[6]=(0,r.Lk)("button",{type:"submit"},"Continue to Chat",-1))],32),(0,r.Lk)("p",null,[s[8]||(s[8]=(0,r.eW)(" Not yet signed up? ")),(0,r.bF)(i,{to:{name:"signup"}},{default:(0,r.k6)((()=>s[7]||(s[7]=[(0,r.eW)("Signup now")]))),_:1})]),s[10]||(s[10]=(0,r.Lk)("img",{class:"logo",src:p,alt:"logo"},null,-1))])])}a(8111),a(116);var X={props:["question","page"],data(){return{showPassword:!1,email:"",password:"",message:""}},methods:{togglePassword(){this.showPassword=!this.showPassword},handleSubmit(){if(!this.email||!this.password){const e=document.querySelectorAll("input:invalid");return e.length>0&&(e[0].focus(),e[0].reportValidity()),void(this.message="All input fields are required!")}const e=JSON.parse(localStorage.getItem("users"))||[];console.log(e);const s=e.find((e=>e.useremail===this.email));s?s.userpassword===this.password?(localStorage.setItem("currentUser",JSON.stringify(s)),this.$router.push({name:"home"})):this.message="Email or Password is Incorrect!":this.message=this.email+" - This email not Exist!"}}};const O=(0,n.A)(X,[["render",P]]);var F=O;const I={class:"home-page"},_={class:"container"};function x(e,s,a,t,l,n){const o=(0,r.g2)("UsersArea"),i=(0,r.g2)("ChatArea");return(0,r.uX)(),(0,r.CE)("div",I,[(0,r.Lk)("div",_,[(0,r.bF)(o,{users:l.users,currentUser:l.currentUser,onSelectUser:n.handleSelection,messages:l.messages},null,8,["users","currentUser","onSelectUser","messages"]),(0,r.bF)(i,{users:l.users,"selected-user":l.selectedUser,messages:l.messages},null,8,["users","selected-user","messages"])])])}a(7588);const J={class:"users-area"},N={class:"user-profile"},q={class:"avatar"},V=["src"],M={class:"info"},j={class:"users-list"},Q={class:"search"},$={key:0},W={class:"users"},D={key:0},T=["onClick"],B={class:"avatar"},K=["src"],R={class:"user-info"},z={key:0},G={key:1},H={key:1};function Y(e,s,a,l,n,o){return(0,r.uX)(),(0,r.CE)("div",J,[(0,r.Lk)("div",N,[(0,r.Lk)("div",q,[(0,r.Lk)("img",{class:"profile-pic",src:a.currentUser.userpic},null,8,V)]),(0,r.Lk)("div",M,[(0,r.Lk)("p",null,(0,d.v_)(a.currentUser.username),1),s[3]||(s[3]=(0,r.Lk)("span",null,"Active now",-1))]),(0,r.Lk)("button",{class:"logout",onClick:s[0]||(s[0]=(...e)=>o.handleLogout&&o.handleLogout(...e))},"Logout")]),(0,r.Lk)("div",j,[(0,r.Lk)("div",Q,[(0,r.Lk)("span",null,[n.show?((0,r.uX)(),(0,r.CE)("span",$,"Select a user to start chat")):(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:1,type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>n.search=e),placeholder:"Enter name to search"},null,512)),[[t.Jo,n.search]])]),(0,r.Lk)("div",{class:(0,d.C4)({hide:!n.show})},[(0,r.Lk)("i",{class:(0,d.C4)(n.show?"fas fa-search":"fas fa-times"),onClick:s[2]||(s[2]=(...e)=>o.showInput&&o.showInput(...e))},null,2)],2)]),(0,r.Lk)("div",W,[o.filterdUsers.length?((0,r.uX)(),(0,r.CE)("div",D,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.filterdUsers,(a=>((0,r.uX)(),(0,r.CE)("div",{key:a.id,class:(0,d.C4)(["user-item",{active:n.selectedUser&&n.selectedUser.id===a.id}]),onClick:s=>e.$emit("select-user",a)},[(0,r.Lk)("div",B,[(0,r.Lk)("img",{class:"profile-pic",src:a.userpic},null,8,K)]),(0,r.Lk)("div",R,[(0,r.Lk)("p",null,(0,d.v_)(a.username),1),e.messages?((0,r.uX)(),(0,r.CE)("span",z,(0,d.v_)(a.lastMessage),1)):((0,r.uX)(),(0,r.CE)("span",G,"No message available "))]),(0,r.Lk)("span",{class:(0,d.C4)({active:!0===a.isActive})},s[4]||(s[4]=[(0,r.Lk)("i",{class:"fas fa-circle"},null,-1)]),2)],10,T)))),128))])):((0,r.uX)(),(0,r.CE)("div",H," No user found related to your search"))])])])}a(2489);var Z={props:["users","currentUser"],data(){return{selectedUser:null,show:!0,search:""}},computed:{filterdUsers(){return Array.isArray(this.users)?this.users.filter((e=>e.id!=this.currentUser.id&&e.username.toLowerCase().startsWith(this.search.toLowerCase()))):[]}},methods:{showInput(){this.show=!this.show,this.search=""},handleLogout(){this.$router.push({name:"login"})}}};const ee=(0,n.A)(Z,[["render",Y]]);var se=ee;const ae={class:"chat-area"},te={class:"chat-header"},re={class:"avatar"},le=["src"],ne={class:"info"},oe={key:0},ie={key:1},ue={key:2},ce={class:"chat-box"},de={class:"reciever"},pe={key:0,class:"avatar"},he=["src"],me={key:1,class:"lastmsg"},ge={class:"sender"},fe={key:0},ve={class:"send-msg"};function ke(e,s,a,l,n,o){return(0,r.uX)(),(0,r.CE)("div",ae,[(0,r.Lk)("div",te,[(0,r.Lk)("div",re,[(0,r.Lk)("img",{class:"profile-pic",src:a.selectedUser.userpic},null,8,le)]),(0,r.Lk)("div",ne,[a.selectedUser?((0,r.uX)(),(0,r.CE)("p",oe,(0,d.v_)(a.selectedUser.username),1)):(0,r.Q3)("",!0),a.selectedUser&&!0===a.selectedUser.isActive?((0,r.uX)(),(0,r.CE)("span",ie,"Active now")):a.selectedUser&&!1===a.selectedUser.isActive?((0,r.uX)(),(0,r.CE)("span",ue,"Offline now")):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",ce,[(0,r.Lk)("div",de,[a.selectedUser.lastMessage?((0,r.uX)(),(0,r.CE)("div",pe,[(0,r.Lk)("img",{class:"profile-pic",src:a.selectedUser.userpic},null,8,he)])):(0,r.Q3)("",!0),a.selectedUser.lastMessage?((0,r.uX)(),(0,r.CE)("div",me,(0,d.v_)(a.selectedUser.lastMessage),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ge,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.messages[a.selectedUser.id],(e=>((0,r.uX)(),(0,r.CE)("div",{class:"sender-message",key:e.msg},[(0,r.Lk)("div",null,(0,d.v_)(e.msg),1)])))),128))]),a.selectedUser.lastMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",fe," No messages are available. Once you send message they will appear here."))]),(0,r.Lk)("div",ve,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Type a message here...","onUpdate:modelValue":s[0]||(s[0]=e=>n.msg=e)},null,512),[[t.Jo,n.msg]]),(0,r.Lk)("span",{onClick:s[1]||(s[1]=(...e)=>o.sendMessage&&o.sendMessage(...e))},s[2]||(s[2]=[(0,r.Lk)("i",{class:"fas fa-paper-plane"},null,-1)]))])])}var we={props:["users","selectedUser","messages"],data(){return{msg:""}},methods:{sendMessage(){""!==this.msg.trim()&&(this.messages[this.selectedUser.id].push({msg:this.msg.trim()}),this.msg="")}}};const Le=(0,n.A)(we,[["render",ke]]);var ye=Le,Ce={components:{UsersArea:se,ChatArea:ye},data(){return{users:"",currentUser:"",selectedUser:"",messages:{}}},mounted(){this.users=JSON.parse(localStorage.getItem("users")),this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.users.forEach((e=>{this.messages[e.id]||(this.messages[e.id]=[])})),console.log(this.messages)},methods:{handleSelection(e){this.selectedUser=e}}};const Ue=(0,n.A)(Ce,[["render",x]]);var be=Ue;const Ee=[{path:"/",name:"login",component:F},{path:"/signup",name:"signup",component:C},{path:"/home",name:"home",component:be}],Se=(0,c.aE)({history:(0,c.LA)("/chat-app/"),routes:Ee});var Ae=Se;(0,t.Ef)(u).use(Ae).mount("#app")}},s={};function a(t){var r=s[t];if(void 0!==r)return r.exports;var l=s[t]={exports:{}};return e[t].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(s,t,r,l){if(!t){var n=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],l=e[c][2];for(var o=!0,i=0;i<t.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](t[i])}))?t.splice(i--,1):(o=!1,l<n&&(n=l));if(o){e.splice(c--,1);var u=r();void 0!==u&&(s=u)}}return s}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,r,l]}}(),function(){a.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(s,{a:s}),s}}(),function(){a.d=function(e,s){for(var t in s)a.o(s,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){a.p="/chat-app/"}(),function(){var e={524:0};a.O.j=function(s){return 0===e[s]};var s=function(s,t){var r,l,n=t[0],o=t[1],i=t[2],u=0;if(n.some((function(s){return 0!==e[s]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var c=i(a)}for(s&&s(t);u<n.length;u++)l=n[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},t=self["webpackChunkchat_app"]=self["webpackChunkchat_app"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(8453)}));t=a.O(t)})();
//# sourceMappingURL=app.4dfdaae3.js.map